<html>

<head>
    <title>GFX Mixer</title>
    <script src="main.js"></script>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>

<body>
    <div class="main-container flex-row">
        <div class="flex-column">
            <div class="sidebar">
                <div class="top-section">
                    <div class="title">
                        <h1>
                            Vanilla<br>
                            Graphics<br>
                            Mixer
                        </h1>
                        <h2>by <a href="https://www.smwcentral.net/?p=profile&id=57900" target="_blank">spratt</a></h2>
                    </div>
                    <canvas id="gfxCanvas" width="256" height="512" class="gfx-canvas"></canvas>
                    <div class="buttons-container">
                        <div class="title">
                            <h1>
                                Vanilla<br>
                                Graphics<br>
                                Mixer
                            </h1>
                            <h2>by <a href="https://www.smwcentral.net/?p=profile&id=57900" target="_blank">spratt</a>
                            </h2>
                        </div>
                        <div id="randButton" class="button">Random</div>
                        <div id="uploadButton" class="button">Upload custom</div>
                        <div id="download2Button" class="button disabled">Download SP3</div>
                        <div id="download3Button" class="button disabled">Download SP4</div>
                        <div id="clearAllButton" class="button disabled">Clear all</div>
                    </div>
                </div>
                <div id="selectedList" class="selected-list"></div>
                <div hidden id="listTemplate" class="selected-list-element"></div>
            </div>
        </div>
        <div class="flex-column">
            <div class="category-list">
                <div id="spriteTemplate" class="button"></div>
                <div id="generic" class="sprite-category">
                    <div class="header">Common</div>
                </div>
                <div id="chuck" class="sprite-category">
                    <div class="header">Chucks</div>
                </div>
                <div id="platform" class="sprite-category">
                    <div class="header">Platforms</div>
                </div>
                <div id="forest" class="sprite-category">
                    <div class="header">Forest</div>
                </div>
                <div id="castle" class="sprite-category">
                    <div class="header">Castle</div>
                </div>
                <div id="mushroom" class="sprite-category">
                    <div class="header">Mushroom</div>
                </div>
                <div id="cave" class="sprite-category">
                    <div class="header">Cave</div>
                </div>
                <div id="water" class="sprite-category">
                    <div class="header">Water</div>
                </div>
                <div id="pokey" class="sprite-category">
                    <div class="header">Pokey</div>
                </div>
                <div id="ghost" class="sprite-category">
                    <div class="header">Ghost</div>
                </div>
                <div id="banzai" class="sprite-category">
                    <div class="header">Banzai</div>
                </div>
                <div id="dino" class="sprite-category">
                    <div class="header">Dino</div>
                </div>
                <div id="mecha" class="sprite-category">
                    <div class="header">Mecha</div>
                </div>
                <div id="boss" class="sprite-category">
                    <div class="header">Bosses</div>
                </div>
                <div id="particle" class="sprite-category">
                    <div class="header">Particles & block animations</div>
                </div>
                <div id="misc" class="sprite-category">
                    <div class="header">Misc</div>
                </div>
            </div>
        </div>
    </div>
    <input id="fileInput" hidden type="file" multiple accept=".bin">
    <div id="tooltip" class="sprite-tooltip" hidden>
        <canvas id="tooltipCanvas" width="256" height="256"></canvas>
        <div id="tooltipText"></div>
    </div>
    <div class="help">
        <div class="background"></div>
        <div class="tab">
            <div>
                Help
            </div>
        </div>
        <div class="modal">
            <h3>What is this?</h3>
            <p>
                <b>Vanilla Graphics Mixer</b> is a tool to simplify the process of merging Super Mario World
                sprite GFX files. This allows you to use combinations of sprites that don't appear in the original
                game (Dry bones + Mechakoopas, for example).
            </p>
            <br>
            <h3>How does it work?</h3>
            <p>
                Start by selecting sprites from the list on the right. Sprites that conflict with your selections
                will turn grey, and the preview tooltip will show which parts of the sprite will have the wrong tiles.
                If a sprite is fully incompatible then it will be disabled.
                <br>
                <br>
                The panel on the left shows the full graphics sheet. You can change the selected palette by scrolling.
                Selected sprites will appear in a list below the gfx panel. Sprites with tile conflicts will be
                highlighted.
                Clicking on a sprite from the list will remove it.
                <br>
                <br>
                The <i>random</i> button will fill remainging space in the gfx file with randomly selected sprites. It
                will only choose sprites that do not conflict with what you've already selected, and won't pick anything
                from the "misc" category.
                <br>
                <br>
                To get the graphics into your romhack, make sure to download both SP3 and SP4 gfx files and insert them
                as ExGFX. If you don't know how to do that, check out the
                <a href="https://www.smwcentral.net/?p=faq&page=1219826-graphics">SMWCentral FAQ</a>.
                <br>
            </p>
            <br>
            <h3>How do I include custom/redrawn graphics?</h3>
            <p>
                First, rename your custom GFX files so that they have the same name as their corresponding vanilla
                GFX. <a href="https://www.smwcentral.net/?p=section&a=details&id=6603">This list may be useful.</a> 
                For example, graphics for a redrawn thwomp in SP4 should be renamed to <i>GFX03.bin</i>.
                <br>
                <br>
                Once the names are correct, click the <i>Upload custom</i> button and select your new GFX files. They
                will replace the current ones until the page is refreshed.
            </p>
            <br>
            <h3>I found a bug!</h3>
            <p> Report it on <a href="https://github.com/sprattgames/gfxmixer/issues">github</a> please! You can also
                request features there (no promises). </p>
            <br>
            <h3>Can I use this for evil?</h3>
            <p>Yes.</p>
        </div>
    </div>
</body>

</html>